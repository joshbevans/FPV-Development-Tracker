@page "/"
@using FPVDevelopment.Components.Data.Classes
@inject UserService UserService
@inject CurrentUser CurrentUser
@inject ISnackbar Snackbar
@rendermode InteractiveServer

<MudStack Edge="Edge.Start" Class="pa-4 mr-16">
    <label>Login as melon</label>
    <MudButton
        FullWidth="false"
        Style="width: 200px;"
        Variant="Variant.Filled"
        Color="Color.Primary"
        @onclick="HandleLoginUser">
        Login
    </MudButton>
</MudStack>

@code {
    private async Task HandleLoginUser()
    {
        CurrentUser.SetCurrentUser(await UserService.Login("user", "pass"));
        if (CurrentUser is not null)
        {
            Snackbar.Add("Login Successful!", Severity.Success);
        }
        else
        {
            Snackbar.Add("Login Failed!", Severity.Error);
        }
    }
}